"use strict";(self["webpackChunkreservas_restaurant_valentina_munoz"]=self["webpackChunkreservas_restaurant_valentina_munoz"]||[]).push([[588],{794:function(e,o,r){r.d(o,{A:function(){return m}});r(6573),r(8100),r(7936),r(7467),r(4732),r(9577);var a,t=new Uint8Array(16);function s(){if(!a&&(a="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),!a))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return a(t)}r(4114);var n=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function l(e){return"string"===typeof e&&n.test(e)}for(var i=l,u=[],c=0;c<256;++c)u.push((c+256).toString(16).substr(1));function d(e){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(u[e[o+0]]+u[e[o+1]]+u[e[o+2]]+u[e[o+3]]+"-"+u[e[o+4]]+u[e[o+5]]+"-"+u[e[o+6]]+u[e[o+7]]+"-"+u[e[o+8]]+u[e[o+9]]+"-"+u[e[o+10]]+u[e[o+11]]+u[e[o+12]]+u[e[o+13]]+u[e[o+14]]+u[e[o+15]]).toLowerCase();if(!i(r))throw TypeError("Stringified UUID is invalid");return r}var p=d;function v(e,o,r){e=e||{};var a=e.random||(e.rng||s)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,o){r=r||0;for(var t=0;t<16;++t)o[r+t]=a[t];return o}return p(a)}var m=v},1588:function(e,o,r){r.r(o),r.d(o,{default:function(){return E}});var a=r(6768),t=r(5130);const s={class:"container pt-5 h-100"},n=(0,a.Lk)("p",{class:"text-primary text-center"},"Sistema de Reservas",-1),l=(0,a.Lk)("h3",{class:"text-center mb-5 text-uppercase fw-bolder fs-1"},"Reserva una habitación",-1),i={class:"col-md-6"},u=(0,a.Lk)("label",{for:"nombre",class:"form-label"},"Nombre del cliente",-1),c={class:"col-md-6"},d=(0,a.Lk)("label",{for:"personas",class:"form-label"},"Número de personas",-1),p={class:"col-md-6"},v=(0,a.Lk)("label",{for:"fecha",class:"form-label"},"Fecha de la reserva",-1),m={class:"col-md-3"},f=(0,a.Lk)("label",{for:"hora",class:"form-label"},"Hora de la reserva",-1),h=(0,a.Fv)('<option value="09:00">09:00</option><option value="10:00">10:00</option><option value="11:00">11:00</option><option value="12:00">12:00</option><option value="13:00">13:00</option><option value="14:00">14:00</option><option value="15:00">15:00</option><option value="16:00">16:00</option><option value="17:00">17:00</option><option value="18:00">18:00</option><option value="19:00">19:00</option><option value="20:00">20:00</option><option value="21:00">21:00</option><option value="22:00">22:00</option>',14),b=[h],k={class:"col-md-3"},L=(0,a.Lk)("label",{for:"tipo",class:"form-label"},"Servicio reservado",-1),y=(0,a.Lk)("option",{value:"Alojamiento"},"Alojamiento",-1),g=(0,a.Lk)("option",{value:"Actividad"},"Actividad",-1),A=(0,a.Lk)("option",{value:"Servicio"},"Servicio",-1),R=[y,g,A],w={class:"col-md-6"},V=(0,a.Lk)("label",{for:"telefono",class:"form-label"},"Número de contacto",-1),C={class:"col-md-6"},U=(0,a.Lk)("label",{for:"correo",class:"form-label"},"Correo de contacto",-1),x=(0,a.Lk)("div",{class:"col-12 text-center"},[(0,a.Lk)("button",{type:"submit",class:"btn btn-primary"},"Reservar")],-1);function S(e,o,r,h,y,g){return(0,a.uX)(),(0,a.CE)("main",s,[n,l,(0,a.Lk)("form",{onSubmit:o[7]||(o[7]=(0,t.D$)(((...e)=>g.handleReservas&&g.handleReservas(...e)),["prevent"])),class:"row g-3"},[(0,a.Lk)("div",i,[u,(0,a.bo)((0,a.Lk)("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>y.reserva.nombre=e),class:"form-control",id:"nombre",placeholder:"Ingresa tu nombre",required:""},null,512),[[t.Jo,y.reserva.nombre]])]),(0,a.Lk)("div",c,[d,(0,a.bo)((0,a.Lk)("input",{type:"number","onUpdate:modelValue":o[1]||(o[1]=e=>y.reserva.personas=e),class:"form-control",id:"personas",placeholder:"Número de personas",required:"",min:"1"},null,512),[[t.Jo,y.reserva.personas]])]),(0,a.Lk)("div",p,[v,(0,a.bo)((0,a.Lk)("input",{type:"date","onUpdate:modelValue":o[2]||(o[2]=e=>y.reserva.fecha=e),class:"form-control",id:"fecha",required:""},null,512),[[t.Jo,y.reserva.fecha]])]),(0,a.Lk)("div",m,[f,(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":o[3]||(o[3]=e=>y.reserva.hora=e),class:"form-control",id:"hora",required:""},b,512),[[t.u1,y.reserva.hora]])]),(0,a.Lk)("div",k,[L,(0,a.bo)((0,a.Lk)("select",{"onUpdate:modelValue":o[4]||(o[4]=e=>y.reserva.tipo=e),class:"form-control",id:"tipo",required:""},R,512),[[t.u1,y.reserva.tipo]])]),(0,a.Lk)("div",w,[V,(0,a.bo)((0,a.Lk)("input",{type:"tel","onUpdate:modelValue":o[5]||(o[5]=e=>y.reserva.telefono=e),class:"form-control",id:"telefono",placeholder:"Ingresa tu teléfono",required:""},null,512),[[t.Jo,y.reserva.telefono]])]),(0,a.Lk)("div",C,[U,(0,a.bo)((0,a.Lk)("input",{type:"email","onUpdate:modelValue":o[6]||(o[6]=e=>y.reserva.correo=e),class:"form-control",id:"correo",placeholder:"Ingresa tu e-mail",required:""},null,512),[[t.Jo,y.reserva.correo]])]),x],32)])}r(4114);var _=r(782),q=r(794),J={name:"ReservarView",data(){return{reserva:{id:(0,q.A)(),user_id:"",personas:1,fecha:"",hora:"",telefono:"",correo:"",tipo:""}}},computed:{...(0,_.L8)(["usuarioActual"])},methods:{...(0,_.i0)(["registrarReserva","cargarReservas"]),async handleReservas(){try{this.reserva.user_id=this.usuarioActual.id,this.reserva.telefono=this.usuarioActual.telefono,this.reserva.correo=this.usuarioActual.email,await this.registrarReserva(this.reserva),this.$swal({title:"Reserva realizada con éxito.",confirmButtonText:"Cerrar",confirmButtonColor:"#FFA500"}),this.$router.push("/mis-reservas")}catch(e){this.$swal("Hubo un error al reservar. Contáctanos para ayudarte."),console.error("Error al realizar la reserva:",e)}}},mounted(){this.usuarioActual&&(this.reserva.nombre=this.usuarioActual.nombre+" "+this.usuarioActual.apellido,this.reserva.telefono=this.usuarioActual.telefono,this.reserva.correo=this.usuarioActual.email)}},$=r(1241);const z=(0,$.A)(J,[["render",S]]);var E=z}}]);
//# sourceMappingURL=588.31b7f23d.js.map